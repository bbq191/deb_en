{
  "workbench.startupEditor": "none",
  "workbench.colorTheme": "Tokyo Night Storm",
  "workbench.iconTheme": "rose-pine-icons",
  "workbench.productIconTheme": "fluent-icons",
  "workbench.panel.defaultLocation": "right",
  "files.autoGuessEncoding": true,
  "window.zoomLevel": 0,
  "explorer.confirmDragAndDrop": false,
  "telemetry.telemetryLevel": "off",
  "git.openRepositoryInParentFolders": "always",
  "window.dialogStyle": "custom",
  //begin ------ editor config
  "editor.stickyScroll.enabled": true,
  "editor.cursorBlinking": "solid",
  "editor.cursorStyle": "block",
  "editor.fontFamily": "'Sarasa Term SC', 'Source Han Sans CN', 'Symbols Nerd Font'",
  "editor.inlayHints.fontFamily": "'Cascadia Code', 'Source Han Sans CN', 'Symbols Nerd Font'",
  "editor.fontLigatures": "'calt','zero','ss01'", // 参考 https://github.com/JetBrains/JetBrainsMono/wiki/OpenType-features
  "editor.wordWrap": "on",
  "editor.fontSize": 14,
  "editor.minimap.enabled": false,
  "editor.lineNumbers": "relative",
  "editor.dragAndDrop": false,
  // turn on wrap ruler and color it
  "editor.rulers": [
    {
      "column": 80,
      "color": "#faa5a588"
    }
  ],
  // 启用 font feature
  "editor.tokenColorCustomizations": {
    "textMateRules": [
      {
        "name": "italic font",
        "scope": [
          "entity.name.function",
          "meta.attribute",
          "meta.use",
          "entity.name.namespace",
          "variable.other",
          "variable.parameter"
        ],
        "settings": {
          "fontStyle": "italic"
        }
      }
    ]
  },
  "editor.scrollBeyondLastLine": false,
  "editor.snippetSuggestions": "bottom",
  "editor.unicodeHighlight.nonBasicASCII": false,
  "editor.parameterHints.enabled": false, // 关闭自动传参建议，使用按键手动触发
  "editor.unicodeHighlight.allowedLocales": {
    "zh-hant": true
  },
  "editor.acceptSuggestionOnEnter": "smart",
  "editor.suggestSelection": "recentlyUsed",
  "editor.guides.bracketPairs": "active",
  "terminal.integrated.bellDuration": 100000,
  "terminal.integrated.fontSize": 14,
  // coding config
  "errorLens.severityText": ["E", "W", "I", "H"],
  "rust-analyzer.check.command": "clippy",
  "rust-analyzer.inlayHints.chainingHints.enable": false,
  "rust-analyzer.inlayHints.typeHints.enable": false,
  "rust-analyzer.inlayHints.parameterHints.enable": false,
  "rust-analyzer.inlayHints.closingBraceHints.enable": false,
  "cmake.configureOnOpen": true,
  "doxdocgen.generic.authorName": "Vinci Xu",
  "doxdocgen.generic.authorEmail": "i@ikate.com",
  "clangd.arguments": ["--compile-commands-dir=${workspaceFolder}/build"],
  "clangd.checkUpdates": true,
  "[jsonc]": {
    "editor.defaultFormatter": "vscode.json-language-features"
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[css]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[yaml]": {
    "editor.defaultFormatter": "redhat.vscode-yaml"
  },
  "explorer.confirmDelete": false,
  "editor.accessibilitySupport": "on",
  "git.autofetch": true,
  "rust-analyzer.diagnostics.useRustcErrorCode": true,
  "rust-analyzer.diagnostics.previewRustcOutput": true,
  "rust-analyzer.diagnostics.experimental.enable": true,
  "better-comments.highlightPlainText": true,
 // vim ------ 基本控制
  "vim.neovimPath": "/opt/homebrew/bin/nvim",
  "vim.neovimConfigPath": "~/.config/nvim/init.lua",
  "vim.useSystemClipboard": true,
  "vim.surround": true,
  "vim.showMarksInGutter": true,
  "vim.highlightedyank.enable": true,
  "vim.enableNeovim": true,
  "vim.neovimUseConfigFile": true,
  "vim.leader": "<space>", // 绑定vim前导键
  "vim.useCtrlKeys": true, // 由vim接管ctrl+any的按键，而不是vscode
  "vim.hlsearch": true, // 突出显示与当前搜索匹配的所有文本
  // vim ------ keybinding
  "vim.normalModeKeyBindingsNonRecursive": [
    // base control
    {
      "before": [":"],
      "commands": ["workbench.action.showCommands"],
      "silent": true
    },
    {
      "before": ["leader", "q"],
      "commands": ["workbench.action.closeWindow"]
    },
    {
      "before": ["<leader>", "y"],
      "after": ["\"", "+", "y"]
    },
    {
      "before": ["<leader>", "d"],
      "after": ["\"", "_", "d"]
    },
    {
      "before": ["<leader>", "p"],
      "after": ["\"", "_", "d", "p"]
    },
    {
      "before": ["x"],
      "after": ["\"", "_", "x"]
    },
    // 文件管理
    {
      "before": ["leader", "e"],
      "commands": ["workbench.files.action.focusFilesExplorer"]
    },
    {
      "before": ["leader", "leader"],
      "commands": ["workbench.action.quickOpen"]
    },
    {
      "before": ["leader", "s"],
      "commands": ["editor.action.startFindReplaceAction"]
    },
    {
      "before": ["leader", "g"],
      "commands": ["workbench.action.findInFiles"]
    },
    // buffer control
    {
      "before": ["L"],
      "commands": ["workbench.action.nextEditor"]
    },
    {
      "before": ["H"],
      "commands": ["workbench.action.previousEditor"]
    },
    {
      "before": ["leader", "b", "k"],
      "commands": ["workbench.action.closeActiveEditor"]
    },
    // 窗口管理
    {
      "before": ["leader", "w", "v"],
      "commands": ["workbench.action.splitEditorRight"]
    },
    {
      "before": ["leader", "w", "s"],
      "commands": ["workbench.action.splitEditorDown"]
    },
    // lsp 代码处理 -- c = code
    {
      "before": ["c", "z"],
      "commands": ["editor.toggleFold"]
    },
    {
      "before": ["c", "f"],
      "commands": ["editor.action.formatDocument"]
    },
    {
      "before": ["[", "e"],
      "commands": ["editor.action.marker.prevInFiles"]
    },
    {
      "before": ["]", "e"],
      "commands": ["editor.action.marker.nextInFiles"]
    },
    {
      "before": ["leader", "x", "q"],
      "commands": ["editor.action.quickFix"]
    },
    {
      "before": ["K"],
      "commands": ["editor.action.showHover"]
    },
    // debug keymaps
    {
      "before": [",", "d"],
      "commands": ["workbench.action.debug.start"]
    },
    {
      "before": [",", "b"],
      "commands": ["editor.debug.action.toggleBreakpoint"]
    },
    {
      "before": [",", "r"],
      "commands": ["workbench.action.debug.run"],
      "when": "inDebugMode && debuggersAvailable && debugState != 'initializing'"
    },
    {
      "before": [",", "c"],
      "commands": ["workbench.action.debug.continue"],
      "when": "inDebugMode && !focusedSessionIsAttach && debugState == 'stopped'"
    },
    {
      "before": [",", "s"],
      "commands": ["workbench.action.debug.stop"],
      "when": "inDebugMode && !focusedSessionIsAttach"
    },
    {
      "before": [",", "i"],
      "commands": ["workbench.action.debug.stepInto"],
      "when": "inDebugMode && !focusedSessionIsAttach && debugState != 'inactive'"
    },
    {
      "before": [",", "O"],
      "commands": ["workbench.action.debug.stepOut"],
      "when": "inDebugMode && !focusedSessionIsAttach && debugState == 'stopped'"
    },
    {
      "before": [",", "o"],
      "commands": ["workbench.action.debug.stepOver"],
      "when": "inDebugMode && !focusedSessionIsAttach && debugState == 'stopped'"
    }
  ],
  // 插入模式下的非递归按键绑定
  "vim.insertModeKeyBindings": [
    {
      "before": ["j", "k"],
      "after": ["<Esc>"],
      "commands": ["workbench.action.files.save"]
    }
  ],
  // 命令模式下的非递归按键绑定
  "vim.commandLineModeKeyBindingsNonRecursive": [],
  // 可视模式下的非递归按键绑定
  "vim.operatorPendingModeKeyBindings": [
    {
      "before": [">"],
      "commands": ["editor.action.indentLines"]
    },
    {
      "before": ["<"],
      "commands": ["editor.action.outdentLines"]
    },
    {
      "before": ["K"],
      "commands": ["editor.action.showHover"]
    },
    {
      "before": ["<leader>", "y"],
      "after": ["\"", "+", "y"]
    },
    {
      "before": ["<leader>", "d"],
      "after": ["\"", "_", "d"]
    }
  ]
}
